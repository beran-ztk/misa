<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Misa.Ui.Avalonia.Features.Pages.Scheduling.Create.CreateScheduleView"
             xmlns:create="clr-namespace:Misa.Ui.Avalonia.Features.Pages.Scheduling.Create"
             x:DataType="create:CreateScheduleViewModel">

    <StackPanel Classes="addpanel-body">

        <!-- Title -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Add a title"
                       Classes="addpanel-text"/>

            <TextBox Classes="addpanel-oneliner"
                     Watermark="Title…"
                     Text="{Binding State.Title, Mode=TwoWay}" />

            <TextBlock Text="{Binding State.ErrorMessage}"
                       IsVisible="{Binding State.HasValidationError}" />
        </StackPanel>

        <!-- Frequency -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Select the frequency type"
                       Classes="addpanel-text"/>

            <ComboBox Classes="addpanel-combo"
                      ItemsSource="{Binding State.FrequencyTypes}"
                      SelectedValue="{Binding State.SelectedFrequencyType}" />
        </StackPanel>

        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Set the interval"
                       Classes="addpanel-text"/>

            <NumericUpDown Classes="addpanel-num"
                           Value="{Binding State.FrequencyInterval, Mode=TwoWay}"
                           Minimum="1"
                           Maximum="1000"
                           Increment="1"
                           FormatString="N0" />
        </StackPanel>

        <!-- Lookahead -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Lookahead limit"
                       Classes="addpanel-text"/>

            <NumericUpDown Classes="addpanel-num"
                           Value="{Binding State.LookaheadLimit, Mode=TwoWay}"
                           Minimum="1"
                           Maximum="100"
                           Increment="1"
                           FormatString="N0" />
        </StackPanel>

        <!-- Occurrence limit -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Occurrence count limit (optional)"
                       Classes="addpanel-text"/>

            <NumericUpDown Classes="addpanel-num"
                           Value="{Binding State.OccurrenceCountLimit, Mode=TwoWay}"
                           Minimum="0"
                           Maximum="100000"
                           Increment="1"
                           FormatString="N0" />
        </StackPanel>

        <!-- Misfire policy -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Select misfire policy"
                       Classes="addpanel-text"/>

            <ComboBox Classes="addpanel-combo"
                      ItemsSource="{Binding State.MisfirePolicies}"
                      SelectedValue="{Binding State.SelectedMisfirePolicy, Mode=TwoWay}" />
        </StackPanel>

        <!-- Occurrence TTL -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Occurrence TTL (optional)"
                       Classes="addpanel-text"/>

            <Grid ColumnDefinitions="Auto,*"
                  RowDefinitions="Auto,Auto,Auto"
                  ColumnSpacing="12"
                  RowSpacing="10">

                <TextBlock Grid.Row="0" Grid.Column="0"
                           VerticalAlignment="Center"
                           Text="Days"
                           Classes="addpanel-text"/>
                <NumericUpDown Grid.Row="0" Grid.Column="1"
                               Classes="addpanel-num"
                               Minimum="0"
                               Increment="1"
                               Value="{Binding State.OccurrenceTtlDays, Mode=TwoWay}" />

                <TextBlock Grid.Row="1" Grid.Column="0"
                           VerticalAlignment="Center"
                           Text="Hours"
                           Classes="addpanel-text"/>
                <NumericUpDown Grid.Row="1" Grid.Column="1"
                               Classes="addpanel-num"
                               Minimum="0"
                               Maximum="23"
                               Increment="1"
                               Value="{Binding State.OccurrenceTtlHours, Mode=TwoWay}" />

                <TextBlock Grid.Row="2" Grid.Column="0"
                           VerticalAlignment="Center"
                           Text="Minutes"
                           Classes="addpanel-text"/>
                <NumericUpDown Grid.Row="2" Grid.Column="1"
                               Classes="addpanel-num"
                               Minimum="0"
                               Maximum="59"
                               Increment="1"
                               Value="{Binding State.OccurrenceTtlMinutes, Mode=TwoWay}" />
            </Grid>
        </StackPanel>

        <!-- Time window -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Start time (optional)"
                       Classes="addpanel-text"/>
            <TimePicker Classes="addpanel-time"
                        SelectedTime="{Binding State.StartTime, Mode=TwoWay}" />
        </StackPanel>

        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="End time (optional)"
                       Classes="addpanel-text"/>
            <TimePicker Classes="addpanel-time"
                        SelectedTime="{Binding State.EndTime, Mode=TwoWay}" />
        </StackPanel>

        <!-- Active range -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Active from"
                       Classes="addpanel-text"/>

            <StackPanel Orientation="Vertical" Spacing="10">
                <DatePicker Classes="addpanel-date"
                            SelectedDate="{Binding State.ActiveFromDate, Mode=TwoWay}" />
                <TimePicker Classes="addpanel-time"
                            SelectedTime="{Binding State.ActiveFromTime, Mode=TwoWay}" />
            </StackPanel>
        </StackPanel>

        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Active until (optional)"
                       Classes="addpanel-text"/>

            <StackPanel Orientation="Vertical" Spacing="10">
                <DatePicker Classes="addpanel-date"
                            SelectedDate="{Binding State.ActiveUntilDate, Mode=TwoWay}" />
                <TimePicker Classes="addpanel-time"
                            SelectedTime="{Binding State.ActiveUntilTime, Mode=TwoWay}" />
            </StackPanel>
        </StackPanel>

        <!-- Restrictions -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Restrictions (optional)"
                       Classes="addpanel-text"/>

            <!-- By day -->
            <Expander IsExpanded="False"
                      Classes="addpanel-expander"
                      Header="By weekday">

                <StackPanel>
                    <CheckBox Content="Monday"    
                              IsChecked="{Binding State.ByDayMon, Mode=TwoWay}" />
                    <CheckBox Content="Tuesday"   
                              IsChecked="{Binding State.ByDayTue, Mode=TwoWay}" />
                    <CheckBox Content="Wednesday" 
                              IsChecked="{Binding State.ByDayWed, Mode=TwoWay}" />
                    <CheckBox Content="Thursday"  
                              IsChecked="{Binding State.ByDayThu, Mode=TwoWay}" />
                    <CheckBox Content="Friday"    
                              IsChecked="{Binding State.ByDayFri, Mode=TwoWay}" />
                    <CheckBox Content="Saturday"  
                              IsChecked="{Binding State.ByDaySat, Mode=TwoWay}" />
                    <CheckBox Content="Sunday"    
                              IsChecked="{Binding State.ByDaySun, Mode=TwoWay}" />
                </StackPanel>
            </Expander>

            <!-- By month -->
            <Expander IsExpanded="False"
                      Classes="addpanel-expander"
                      Header="By month">

                <StackPanel>
                    <CheckBox Content="January"
                              IsChecked="{Binding State.ByMonthJan, Mode=TwoWay}" />
                    <CheckBox Content="February"
                              IsChecked="{Binding State.ByMonthFeb, Mode=TwoWay}" />
                    <CheckBox Content="March"
                              IsChecked="{Binding State.ByMonthMar, Mode=TwoWay}" />
                    <CheckBox Content="April"
                              IsChecked="{Binding State.ByMonthApr, Mode=TwoWay}" />
                    <CheckBox Content="May"
                              IsChecked="{Binding State.ByMonthMay, Mode=TwoWay}" />
                    <CheckBox Content="June"
                              IsChecked="{Binding State.ByMonthJun, Mode=TwoWay}" />
                    <CheckBox Content="July"
                              IsChecked="{Binding State.ByMonthJul, Mode=TwoWay}" />
                    <CheckBox Content="August"
                              IsChecked="{Binding State.ByMonthAug, Mode=TwoWay}" />
                    <CheckBox Content="September"
                              IsChecked="{Binding State.ByMonthSep, Mode=TwoWay}" />
                    <CheckBox Content="October"
                              IsChecked="{Binding State.ByMonthOct, Mode=TwoWay}" />
                    <CheckBox Content="November"
                              IsChecked="{Binding State.ByMonthNov, Mode=TwoWay}" />
                    <CheckBox Content="December"
                              IsChecked="{Binding State.ByMonthDec, Mode=TwoWay}" />
                </StackPanel>
            </Expander>

            <!-- By month day -->
            <Expander IsExpanded="False"
                      Classes="addpanel-expander"
                      Header="By month day">

                <StackPanel>
                    <TextBlock Text="Enter one or more days of the month as a comma separated list (for example: 1, 15, 31)"
                               Width="300"
                               Classes="addpanel-text"/>

                    <TextBox Classes="addpanel-oneliner"
                             Watermark="1, 15, 31"
                             Text="{Binding State.ByMonthDayCsv, Mode=TwoWay}" />
                </StackPanel>
            </Expander>

        </StackPanel>


        <!-- Action type -->
        <StackPanel Classes="addpanel-controls">
            <TextBlock Text="Select action type"
                       Classes="addpanel-text"/>

            <ComboBox Classes="addpanel-combo"
                      ItemsSource="{Binding State.ActionTypes}"
                      SelectedValue="{Binding State.SelectedActionType}" />
        </StackPanel>

    </StackPanel>
    
</UserControl>
